services:
  - name: todo-backend
    type: web
    runtime: image
    image:
      url: ghcr.io/mikebg95/todo-project/todo-backend:latest
    plan: free
    region: frankfurt
    envVars:
      - { key: PORT, value: 8080 }
      - { key: SERVER_PORT, value: 8080 }
      - { key: SPRING_PROFILES_ACTIVE, value: dev }
      - { key: SPRING_DATA_MONGODB_URI, sync: false }  # set value in dashboard
    # remove this if you don't have actuator:
    # healthCheckPath: /actuator/health

  - name: todo-frontend
    type: web
    runtime: image
    image:
      url: ghcr.io/mikebg95/todo-project/todo-frontend:latest
    plan: free
    region: frankfurt
    envVars:
      - { key: PORT, value: 80 }
      - { key: BACKEND_URL, value: https://REPLACE_WITH_BACKEND_HOST/ }
    healthCheckPath: /
